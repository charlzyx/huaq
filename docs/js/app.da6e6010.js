(function(t){function e(e){for(var o,r,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)r=s[d],i[r]&&f.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=n("b970"),a=n("a9f5"),r=n.n(a),s=(n("157a"),n("f0e6"),n("9483"));Object(s["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("van-nav-bar",[n("div",{attrs:{slot:"title"},slot:"title"},[t._v("花Q~")]),n("a",{attrs:{slot:"right",href:"https://github.com/charlzyx/huaq"},slot:"right"},[n("svg",{staticClass:"octicon octicon-mark-github v-align-middle",attrs:{height:"24",viewBox:"0 0 16 16",version:"1.1",width:"24","aria-hidden":"true"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}})])])]),n("van-field",{attrs:{label:"大字",placeholder:"冷   静"},on:{input:t.draw},model:{value:t.big.word,callback:function(e){t.$set(t.big,"word",e)},expression:"big.word"}}),n("van-field",{attrs:{label:"小字",placeholder:"反      正      他      们      都      傻"},on:{input:t.draw},model:{value:t.lite.word,callback:function(e){t.$set(t.lite,"word",e)},expression:"lite.word"}}),n("van-cell-group",{attrs:{title:"一些设置"}},[n("div",[n("van-row",[n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("大字字号")])]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("大字y轴调整")])]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("小字字号")])]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("小字y轴调整")])])],1)],1),n("van-row",[n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.updateYThenDraw},model:{value:t.big.font.size,callback:function(e){t.$set(t.big.font,"size",e)},expression:"big.font.size"}})],1)]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.draw},model:{value:t.offsetY,callback:function(e){t.offsetY=e},expression:"offsetY"}})],1)]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.updateYThenDraw},model:{value:t.lite.font.size,callback:function(e){t.$set(t.lite.font,"size",e)},expression:"lite.font.size"}})],1)]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.draw},model:{value:t.boundingY,callback:function(e){t.boundingY=e},expression:"boundingY"}})],1)])],1)],1),n("van-cell-group",{attrs:{title:"另一些设置"}},[n("div",[n("van-row",[n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[t._v("字体")])]),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[t._v("字体颜色")])]),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[t._v("背景颜色")])])],1)],1),n("van-row",[n("van-col",{attrs:{span:"8"}},[n("van-picker",{attrs:{columns:t.fontlist},on:{change:t.onChangeFont}})],1),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[n("colorPicker",{staticClass:"colorpicker",attrs:{value:t.fontColor},on:{input:t.onChangeColor}})],1)]),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[n("colorPicker",{staticClass:"colorpicker",attrs:{defaultColor:"",value:t.bgColor},on:{input:t.onChangeBgColor}})],1)])],1)],1),n("canvas",{style:t.style,attrs:{width:t.box.width,height:t.box.height,id:"canvas"}}),n("canvas",{staticStyle:{display:"none"},attrs:{id:"masure"}})],1)},c=[],u=(n("9c86"),n("ac6a"),n("456d"),{"华文仿宋":"STFangsong","华文黑体":"STHeiti"}),d="ideographic",f={name:"app",data:function(){return{offsetY:0,boundingY:0,fontlist:Object.keys(u),fontFamily:u.华文仿宋,fontColor:"#000",bgColor:"#fff",big:{word:"不 发 脾 气",font:{size:320,lineHeight:"100%"}},lite:{word:"谁            给            的            钱            多            听            谁            的",font:{size:52,lineHeight:"100%"}},style:{border:"1px dashed #08C160"},box:{height:0,width:0}}},mounted:function(){this.updateYThenDraw()},computed:{bouding:function(){var t=this.box,e=t.width,n=(t.height,this.boundingY),o=this.lite.font.size,i={x:0,y:n,width:e,height:1.1*o};return i}},methods:{onChangeFont:function(t,e){var n=this;this.fontFamily=u[e],this.$nextTick(function(){n.draw()})},onChangeColor:function(t){var e=this;this.fontColor=t,this.$nextTick(function(){e.draw()})},onChangeBgColor:function(t){var e=this;console.log("value",t),this.bgColor=t,this.$nextTick(function(){e.draw()})},masure:function(){var t=this,e=document.getElementById("masure");if(!e)return Promise.reject("no el");var n=e.getContext("2d"),o=this.fontFamily,i=this.big,a=i.word,r=i.font.size;n.font="".concat(r,"px ").concat(o),n.textBaseline=d;var s=n.measureText(a),l=s.width,c=r;return this.box={width:l,height:c},new Promise(function(e){t.$nextTick(e)})},updateYThenDraw:function(){var t=this,e=this.box.height,n=this.big.font.size,o=this.lite.font.size;this.boundingY=e?e/2+o/2:n/2+o/2,this.$nextTick(function(){t.draw()})},draw:function(){var t=this;this.clear(),this.masure().then(function(){var e=document.getElementById("canvas");if(e){var n=e.getContext("2d");n.restore(),n.save(),t.drawBg(n),t.drawBig(n),t.drawLite(n)}})},clear:function(){var t=document.getElementById("canvas");if(t){var e=t.getContext("2d");e.clearRect(0,0,this.box.width,this.box.height)}},drawBg:function(t){var e=this.bgColor;e&&(t.fillStyle=e,t.fillRect(0,0,this.box.width,this.box.height))},drawBig:function(t){var e=this.fontFamily,n=this.fontColor,o=this.offsetY,i=this.big,a=i.word,r=i.font.size;t.font="".concat(r,"px/").concat(r," ").concat(e),t.textBaseline=d,t.fillStyle=n,t.fillText(a,0,r+o)},drawLite:function(t){var e=this.fontFamily,n=this.fontColor,o=this.bgColor,i=this.bouding,a=this.box,r=this.lite,s=r.word,l=r.font.size;o?(t.fillStyle=o,t.fillRect(i.x,i.y,i.width,i.height)):t.clearRect(i.x,i.y,i.width,i.height),t.fillStyle=n,t.textBaseline=d,t.textAlign="center",t.font="".concat(l,"px/").concat(l,"px ").concat(e),t.fillText(s,a.width/2,i.y+l)}}},h=f,v=(n("034f"),n("2877")),p=Object(v["a"])(h,l,c,!1,null,null,null),g=p.exports;o["a"].use(r.a),o["a"].use(i["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(g)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.da6e6010.js.map