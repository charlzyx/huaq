(function(e){function t(t){for(var o,a,c=t[0],l=t[1],s=t[2],u=0,f=[];u<c.length;u++)a=c[u],i[a]&&f.push(i[a][0]),i[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=n("b970"),r=(n("157a"),n("f0e6"),n("9483"));Object(r["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("van-nav-bar",{attrs:{title:"花Q~"}}),n("van-cell-group",[n("van-field",{attrs:{label:"大字",placeholder:"我是这么说的"},on:{change:e.draw},model:{value:e.big.word,callback:function(t){e.$set(e.big,"word",t)},expression:"big.word"}}),n("van-stepper",{attrs:{step:"20"},on:{change:e.draw},model:{value:e.big.font.size,callback:function(t){e.$set(e.big.font,"size",t)},expression:"big.font.size"}}),n("van-field",{attrs:{label:"小字",placeholder:"但我的意思其实是"},on:{change:e.draw},model:{value:e.lite.word,callback:function(t){e.$set(e.lite,"word",t)},expression:"lite.word"}}),n("van-stepper",{attrs:{step:"4"},on:{change:e.draw},model:{value:e.lite.font.size,callback:function(t){e.$set(e.lite.font,"size",t)},expression:"lite.font.size"}}),n("van-picker",{attrs:{columns:e.columns,"default-index":2},on:{change:e.onChange}})],1),n("canvas",{style:e.style,attrs:{width:e.box.width,height:e.box.height,id:"canvas"}}),n("canvas",{staticStyle:{display:"none"},attrs:{id:"masure"}}),n("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.draw}},[e._v("it works!")])],1)},c=[],l=(n("9c86"),.1),s={name:"app",data:function(){return{fontFamily:"STFangsong",big:{word:"不 发 脾 气",font:{family:"STFangsong",size:320,color:"#000",lineHeight:"100%"}},lite:{word:"谁            给            的            钱            多            听            谁            的",font:{family:"STFangsong",size:52,lineHeight:"100%",color:"#000"}},v:!1,style:{margin:"16px",border:"1px solid #cecece"},box:{height:100,width:100}}},mounted:function(){this.draw()},components:{},methods:{draw:function(){var e=this;this.clear();var t=document.getElementById("masure").getContext("2d");this.masure(t).then(function(){var t=e.tmp=document.getElementById("canvas").getContext("2d");t.restore(),t.save(),e.drawBig(t),e.drawLite(t)})},clear:function(){var e=this.tmp=document.getElementById("canvas").getContext("2d");e.clearRect(0,0,this.box.width,this.box.height)},masure:function(e){var t=this,n=this.big,o=n.word,i=n.font,r=i.size,a=i.family,c="".concat(r,"px ").concat(a||"");e.font=c,e.textBaseline="middle";var s=e.measureText(o),d=s.width,u=r+r*l;return this.box={width:d,height:u},new Promise(function(e){t.$nextTick(e)})},drawBig:function(e){var t=this.big,n=t.word,o=t.font,i=o.size,r=o.family,a=o.color,c="".concat(i,"px/").concat(i," ").concat(r||"");e.textBaseline="middle",e.font=c,e.fillStyle=a,e.fillText(n,0,i/2)},getLiteBounding:function(){var e=this.box,t=e.width,n=e.height,o=this.lite.font.size,i=o+o*l,r={x:0,y:n/2+.2*n-i/2,width:t,height:i};return r},drawLite:function(e){var t=this.lite,n=t.word,o=t.font,i=o.size,r=o.family,a=(o.color,this.getLiteBounding());e.clearRect(a.x,a.y,a.width,a.height),e.textBaseline="middle",e.textAlign="center";var c="".concat(i,"px/").concat(i,"px ").concat(r||"");e.font=c,e.fillText(n,this.box.width/2,a.y+i/2+i*l)},clip:function(e){var t=this.box,n=t.width,o=t.height,i=(this.lite.font.size,this.getLiteBounding()),r={x:0,y:0,width:n,height:o-i.y},a={x:0,y:i.y+i.height,width:n,height:o};e.beginPath(),e.rect(r.x,r.y,r.width,r.height),e.rect(a.x,a.y,a.width,a.height),e.clip()}}},d=s,u=(n("034f"),n("2877")),f=Object(u["a"])(d,a,c,!1,null,null,null),h=f.exports;o["a"].use(i["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(h)}}).$mount("#app")},"64a9":function(e,t,n){}});
//# sourceMappingURL=app.bff9dc6c.js.map