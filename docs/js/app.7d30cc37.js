(function(t){function e(e){for(var o,r,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)r=s[d],i[r]&&f.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=n("b970"),a=(n("157a"),n("f0e6"),n("9483"));Object(a["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("van-nav-bar",{attrs:{title:"花Q~"}}),n("van-field",{attrs:{label:"大字",placeholder:"冷   静"},on:{input:t.draw},model:{value:t.big.word,callback:function(e){t.$set(t.big,"word",e)},expression:"big.word"}}),n("van-field",{attrs:{label:"小字",placeholder:"反      正      他      们      都      傻"},on:{input:t.draw},model:{value:t.lite.word,callback:function(e){t.$set(t.lite,"word",e)},expression:"lite.word"}}),n("van-cell-group",{attrs:{title:"一些设置"}},[n("div",[n("van-row",[n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("大字字号")])]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("大字y轴调整")])]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("小字字号")])]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[t._v("小字y轴调整")])])],1)],1),n("van-row",[n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.updateYThenDraw},model:{value:t.big.font.size,callback:function(e){t.$set(t.big.font,"size",e)},expression:"big.font.size"}})],1)]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.draw},model:{value:t.offsetY,callback:function(e){t.offsetY=e},expression:"offsetY"}})],1)]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.updateYThenDraw},model:{value:t.lite.font.size,callback:function(e){t.$set(t.lite.font,"size",e)},expression:"lite.font.size"}})],1)]),n("van-col",{attrs:{span:"6"}},[n("div",{staticClass:"center"},[n("van-stepper",{attrs:{integer:""},on:{input:t.draw},model:{value:t.boundingY,callback:function(e){t.boundingY=e},expression:"boundingY"}})],1)])],1)],1),n("van-cell-group",{attrs:{title:"另一些设置"}},[n("div",[n("van-row",[n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[t._v("字体")])]),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[t._v("字体颜色")])]),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"center"},[t._v("背景颜色")])])],1)],1),n("van-row",[n("van-col",{attrs:{span:"8"}},[n("van-picker",{attrs:{columns:t.fontlist},on:{change:t.onChangeFont}})],1),n("van-col",{attrs:{span:"8"}},[n("van-picker",{attrs:{columns:t.colorList},on:{change:t.onChangeColor}})],1),n("van-col",{attrs:{span:"8"}},[n("van-picker",{attrs:{columns:t.bgColorList},on:{change:t.onChangeBgColor}})],1)],1)],1),n("canvas",{style:t.style,attrs:{width:t.box.width,height:t.box.height,id:"canvas"}}),n("canvas",{staticStyle:{display:"none"},attrs:{id:"masure"}}),n("van-button",{attrs:{type:"primary",size:"large"},on:{click:t.draw}},[t._v("it works!")])],1)},s=[],c=(n("9c86"),n("ac6a"),n("456d"),{"华文仿宋":"STFangsong","华文黑体":"STHeiti"}),l="ideographic",u=["#000","#fff","red","green","blue"],d={name:"app",data:function(){return{offsetY:0,boundingY:0,fontlist:Object.keys(c),fontFamily:c.华文仿宋,colorList:u,fontColor:"#000",bgColorList:[!1].concat(u),bgColor:null,big:{word:"不 发 脾 气",font:{size:320,lineHeight:"100%"}},lite:{word:"谁            给            的            钱            多            听            谁            的",font:{size:52,lineHeight:"100%"}},style:{border:"1px dashed #08C160"},box:{height:0,width:0}}},mounted:function(){this.updateYThenDraw()},computed:{bouding:function(){var t=this.box,e=t.width,n=(t.height,this.boundingY),o=this.lite.font.size,i={x:0,y:n,width:e,height:o};return i}},methods:{onChangeFont:function(t,e){var n=this;this.fontFamily=c[e],this.$nextTick(function(){n.draw()})},onChangeColor:function(t,e){var n=this;this.fontColor=e,this.$nextTick(function(){n.draw()})},onChangeBgColor:function(t,e){var n=this;this.bgColor=e,this.$nextTick(function(){n.draw()})},masure:function(){var t=this,e=document.getElementById("masure").getContext("2d"),n=this.fontFamily,o=this.big,i=o.word,a=o.font.size;e.font="".concat(a,"px ").concat(n),e.textBaseline=l;var r=e.measureText(i),s=r.width,c=a;return this.box={width:s,height:c},new Promise(function(e){t.$nextTick(e)})},updateYThenDraw:function(){var t=this,e=this.box.height,n=this.big.font.size,o=this.lite.font.size;this.boundingY=e?e/2+o/2:n/2+o/2,this.$nextTick(function(){t.draw()})},draw:function(){var t=this;this.clear(),this.masure().then(function(){var e=document.getElementById("canvas").getContext("2d");e.restore(),e.save(),t.drawBg(e),t.drawBig(e),t.drawLite(e)})},clear:function(){var t=document.getElementById("canvas").getContext("2d");t.clearRect(0,0,this.box.width,this.box.height)},drawBg:function(t){var e=this.bgColor;e&&(t.fillStyle=e,t.fillRect(0,0,this.box.width,this.box.height))},drawBig:function(t){var e=this.fontFamily,n=this.fontColor,o=this.offsetY,i=this.big,a=i.word,r=i.font.size;t.font="".concat(r,"px/").concat(r," ").concat(e),t.textBaseline=l,t.fillStyle=n,t.fillText(a,0,r+o)},drawLite:function(t){var e=this.fontFamily,n=this.fontColor,o=this.bgColor,i=this.bouding,a=this.box,r=this.lite,s=r.word,c=r.font.size;o?(t.fillStyle=o,t.fillRect(i.x,i.y,i.width,i.height)):t.clearRect(i.x,i.y,i.width,i.height),t.fillStyle=n,t.textBaseline=l,t.textAlign="center",t.font="".concat(c,"px/").concat(c,"px ").concat(e),t.fillText(s,a.width/2,i.y+c)}}},f=d,h=(n("034f"),n("2877")),p=Object(h["a"])(f,r,s,!1,null,null,null),v=p.exports;o["a"].use(i["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(v)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.7d30cc37.js.map